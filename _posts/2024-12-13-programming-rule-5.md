---
layout: single
title: "[프로그래밍 규칙] 5주차 실행하기"
categories:
  - study
sidebar:
  nav: "sidebar-category"
---

이번 스터디 때 가장 와닿았던 문장, 그리고 바로 불필요한 것을 제거하자는 교훈을 얻은.... (성능 개선이 아니라, 장애 복구이지만 흑흑)

> 우리는 같은 작업을 더 빠르게 수행하도록 바꾸는 것이 아니라 불필요한 작업을 제거함으로써 성능을 개선합니다.

## 1. 무엇이 원인이였나?

그것은 바로 워드프레스의 동작 방식에 대한 나의 무지함이랄까요..?
사건의 발단은 이러했다.
- 로그인을 체크하는 버튼을 만들어야 된다! 
  - 로그인을 하지 않은 경우 -> 메인 페이지로 리디렉션
  - 로그인을 한 경우 -> 다음 동작으로 이어짐
- WP Code란 게 있네? 코드스니펫 템플릿이 많다! 로그인 체크도 있는데?! 하며 조금 보완해서 적용
- 하지만 안됨..! 그래서 다시 공부 우리는 엘리멘터를 사용 중이라 엘리멘터의 동작을 제어해야됨
- 됨..! 어차피 이전에 했던 건 안됐었으니까, 스테이지에서 잘되니까~ 하고 운영서버 적용

## 2. 사건 발생 12시
- 운영서버 페이지만 만들어놓고 비공개 상태 + 코드스니펫은 그 페이지의 버튼에 적용
- 퇴근 전 19시쯤 실서버 잘 되는 거 확인하고 귀가
- pro하지만!!!! 다음날 9시쯤 들려온 장애 소식... 에러 메시지가.... 내 코드스니펫이 분명하다..!

![프로그래밍 규칙 10주차](/assets/images/programming-rule-5.gif)

## 3. 분석 후 조치
- 헐레벌떡 왔지만, 오기 전에 전전날 걸로 롤백해주심 (감사합니다 엉엉)
- 스테이지 로그 확인 -> 아무것도 없음 ㅠ 여기선 잘되는...
- 코드스니펫 분석해보니 로그인 체크 리디렉션 코드가 2개다. 당연하다 내가 워드프레스 행동 제어도 남겨놨으니까
- 검색해보내 충돌이 날 수 있대서, 스테이지에서 제거해봄 -> 그래도 로그인 체크 잘됨!
- 운영서버에 해당 스니펫 제외하고 등록하니까 잘됨...
- 스테이지에 전날 데이터로 백업하고, 누락된 데이터 없는지 확인

## 4. 반성문

김안일씨. 스테이지에서 잘되니까 + 아직 페이지가 비공개 상태이니까 가 결합되어 퇴근 때 잘되는 지 확인할 때 캐시도 안비웠다 흑흑<br />
필요 없는 코드는 지우는 걸... 습관화 하자... 커밋도 올리기 전에 내가 수정한 코드에 사용하지 않게 된 부분이 있는지 확인하는 습관... <br />
그리고 모든 테스트는 시크릿모드 + 캐시비우기를 명심하자... 내 생각보다 캐시는 강력하다. (스터디에서도 깨달았었잖앆!)<br />
그래도 교훈을 얻었다... 책에서 하는 말이 딱 맞았다. 약~간 핀트가 다른 쪽이긴 하지만... 어쨌든 쫄지마 식겁핑...

## 5. 규칙 6 코드 리뷰의 세 가지 장점

은 읽고나서, 리뷰어와 리뷰이가 모두에게 교육이 된다는 것에 크게 공감했다.<br />
그리고 의외로 주니어 -> 시니어의 리뷰에도 질문을 하고 답함으로써 얻어가는 것이 있다는 게 신기했고
얼른 멋진 시니어가 되어 리뷰zone에서 만날 수 있는 날이 오기를 염원한다..!

---
layout: single
title: "[IT CookBook, 프로젝트로 배우는 데이터베이스 설계] 9 . 논리적 설계 심화"
categories:
  - study
sidebar:
  nav: "sidebar-category"
---

## 1. 개체 타입 통합

### 개체 타입 통합 방법
- 기본키가 동일한 개체 타입들의 통합 - 통합된 개체 타입은 통합 전 개체 타입들의 모든 속성을 포함하고, 필요한 경우 새로운 속성을 추가하거나 속성 이름을 변경할 수 있음
- 기본키가 상호 식별자가 되는 개체 타입들의 통합 - 통합된 개체 타입은 통합 전 개체 타입들의 모든 속성을 포함하고, 필요한 경우 속성 이름을 변경할 수 있음
- 기본키와 속성이 비슷한 개체 타입들의 통합 - 기본키와 속성이 비슷하고 각 속성의 도메인이 비슷한 경우, 새로운 개체 타입을 만들어서 통합할 수 있음. 이때 새로운 개체 타입은 이전 개체 타입들의 모든 속성을 포함해야 하고, 필요한 경우 속성 이름을 변경하거나 새로운 속성을 추가할 수 있음

### 개체 타입을 통합 시 주의 사항
- 논리적 설계 단계에서는 가능한 모든 개체를 각각 상세하게 표현
- 개체 통합은 물리적 설계 단계에서 고려해도 됨
- 트랜잭션이 통합된 개체 타입에 대해 발생하는지, 분리된 개체 타입에 대해 발생하는지를 조사하여 전자이면 개체 타입의 통합을 고려
- 데이터와 트랜잭션 양이 많지 않다면 개체 통합을 고려
- 데이터와 트랜잭션 양이 많은 경우, 트랜잭션이 통합된 개체 타입에 대해 발생할 때만 개체 통합을 결정

### 개체 타입 통합 장단점 
- 장점
  - 불필요한 조인이 제거되어 성능이 향상됨
  - 정보 조회가 용이
  - 비슷한 속성이 통합되므로 중복이 제거됨
  - ER 다이어그램이 간결해짐
  - 물리적으로 관리해야 하는 테이블 수가 감소함
- 단점
  - 데이터 모델만으로 업무 흐름을 파악하기 어려움
  - 업무 확장에 따른 데이터 모델 변경 시 유연하지 않음
  - 많은 양의 데이터가 한군데에 집약되므로 성능이 저하될 수 있  


## 2. 이력 데이터 모델링

### 이력 데이터 개념
- 이력 데이터는 하나의 업무 단위가 시간의 흐름에 따라 반복적으로 발생하거나 변경 또는 진행되는 과거 및 현재 데이터를 의미
- 이력 데이터 관리에는 비용이 발생하지만, 다음과 같은 장점이 있음
  - 과거 특정 시점의 데이터 조회 가능
  - 변경 내역 관리 가능
  - 오류 발생 시 현재 정보를 가장 최근 이력 정보로 복구할 수 있음
- 이력 데이터 관리 시 고려해야할 사항
  - 시간이 경과함에 따라 데이터가 변하는가?
  - 시간이 경과함에 따라 관계가 변하는가?
  - 과거 데이터를 조회할 필요가 있는가?
  - 변경 내역을 조회할 필요가 있는가?
  - 과거 버전을 보관할 필요가 있는가?
- 이력 데이터를 표현하는 이력 개체의 특징
  - 이력 개체는 하나의 개체에서 발생하는 이력을 관리하기 위해서 생성하는 약한 개체로, 과거의 특정 시점에 대한 정보를 제공하는 것이 목적
  - 이력 개체의 기본키는 자신의 부분키와 소유 개체의 기본키를 조합한 복합키. 이때 부분키 역할을 할 속성이 없으면 날짜나 일련번호를 추가해야 함
  - 소유 개체의 기본키는 이력 개체의 외래키
  - 이력 개체에 필요한 대부분의 속성은 소유 개체에 존재
 
### 이력 데이터 생성 유형
- 발생 이력 - 데이터가 발생할 때마다 정보를 남겨서 관리하는 이력, 약한 개체로 발생 이력을 저장함
- 변경 이력 - 데이터가 변경될 때마다 변경 전후의 차이를 확인하기 위해 남기는 이력, 약한 개체로 변경 이력을 저장함
- 진행 이력 - 업무가 진행되는 상황을 관리하기 위해 남기는 이력, 약한 개체로 진행 이력을 저장함

### 이력 데이터 관리 주기
- 시점 이력 - 데이터 변경이 발생한 시점만 관리하기 위해 남기는 이력
- 선분 이력 - 데이터 변경이 발생한 시작 시점부터 종료 시점까지 전체 시간을 관리하기 위해 남기는 이력


## 3. 코드 개체 모델링

**코드 개체**는 정보를 간단히 표현하기 위한 기호를 나타내는 개체


## 4. 무결성 제약조건 정의

**무결성 제약조건**은 디비에 저장된 데이터의 정확성과 일관성을 유지하기 위해 디비가 항상 만족해야 하는 조건을 의미함

### 개체 무결성 정의 방법
- 개체 무결성은 기본키를 구성하는 속성은 반드시 값을 가져야 하고 유일성을 보장하는 최소한의 집합이어야 한다는 제약조건
  - 기본키를 구성하는 속성은 널 값을 가져서는 안됨
  - 기본키는 개체를 유일하게 식별할 수 있어야 함
  - 기본키는 유일성을 보장하는 최소한의 속성 집합이어야 함
- 개체 무결성은 기본키를 정의하면 묵시적으로 정의되지만, 기본키가 잘못 정의되면 개체 무결성이 보장되지 않음

### 기본키 선정 시 고려 사항
- 기본키는 개체 인스턴스를 유일하게 식별할 수 있어야 함
- 기본키는 가능하면 변경되지 않아야 함
- 기본키는 데이터 보안이 요구되지 않아야 함
- 기본키는 반드시 최소성을 만족해야 함
- 후보키 가운데 더 작은 저장 공간을 차지하는 속성을 선택해야 함
- 후보키 가운데 업무 활용도가 높고 업무상 의미 있는 속성을 기본키로 선택해야 함
- 기존 업무에서 의미 있게 사용하던 기본키가 있으면 그대로 유지해야 함

### 참조 무결성 정의 방법
- 참조 무결성은 외래키가 반드시 피참조 릴레이션에 존재하는 기본키 값 또는 널 값을 가져야 한다는 제약조건

### 도메인 무결성 정의 방법
- 도메인 무결성은 각 속성이 반드시 미리 정의된 도메인에 존재하는 값을 가져야 한다는 제약조


## 5. 데이터 표준화

### 데이터 표준화
- 디비에서 사용되는 데이터의 명칭, 정의, 형식, 규칙 등에 대한 전시적 표준을 수립하고 적용하는 과정
- 데이터의 정확성, 일관성, 신뢰성 등을 보장하고 데이터 관리 및 분석의 효율성을 높이려면 데이터 표준화가 중요함
- 명칭
  - 하나의 개념에 대해 하나의 명칭만 허용
  - 명칭이 업무 관점에서 보편적으로 인지되어야 함
  - 명칭만으로 데이터의 의미와 범위가 파악될 수 있어야 함
- 정의
  - 데이터가 의미하는 범위와 자격 요건을 제3자도 이해할 수 있도록 정의
  - 서술적 정의만으로 의미 전달이 어려우면 실제 데이터 값도 같이 작성
  - 전문 용어나 약어는 지양
- 형식
  - 데이터 타입과 길이를 정의
  - 성격이 유사한 데이터는 도메인을 정의해서 데이터 형식을 통일
- 규칙
  - 데이터의 입력 오류를 방지하기 위해 기본값, 허용 값의 범위, 표준 코드 등을 이용하여 허용 가능한 데이터 값을 미리 정의
- 데이터 표준 관리 조직 - 전사적으로 수립된 데이터 표준 원칙과 데이터 표준, 데이터 표준 준수 여부 관리 등을 잘 지켜나가려면 데이터 표준 관리 조직(데이터 관리자 DA)의 역할이 가장 중요
  - 데이터에 대한 정책 및 표준 정의
  - 부서 간 데이터 구조 조율
  - 데이터 보안 관리
  - 데이터 모델 관리
  - 데이터의 효율적인 활용 방안 계획
- 데이터 표준 - 표준 단어, 표준 용어, 표준 도메인, 표준 코드
- 데이터 표준화 절차 - 요구사항 수집, 데이터 표준 정의, 데이터 표준 확정, 데이터 표준 관리

---
layout: single
title: "[이것이 취업을 위한 컴퓨터 과학이다] 5-1 ~ 5-3"
categories:
  - study
sidebar:
  nav: "sidebar-category"
---

## 5 - 1. 네트워크의 큰 그림
**네트워크의 기본 구조**
- 네트워크는 노드와 간선으로 이루어진 자료구조라는 점에서 그래프의 형태를 띰
- 네트워크 토폴로지 - 네트워크 상에서 노드와 노드 사이의 연결 구조
- 호스트 - 네트워크의 가장자리에 위치하면서 네트워크를 통해 주고받는 정보를 최초로 송신하고 최종 수신하는 노드
  - 클라이언트 - 요청을 보내는 호스트
  - 서버 - 응답을 보내는 호스트
- LAN ( 근거리 네트워크 )
  - 가정이나 기업처럼 비교적 가까운 거리를 연결하는 한정된 공간에서의 네트워크
  - LAN 간의 통신도 빈번
- WAN ( 원거리 네트워크 )
  - 인터넷을 가능하게 만드는 네트워크
- 패킷
  - 네트워크를 통해 송수신되는 데이터의 단위
  - 하나의 패킷은 페이로드와 헤더로 구성되어 있으며, 때로는 트레일러라는 정보가 포함되기도 함
    - 페이로드 - 패킷에서 송수신하고자 하는 데이터
    - 헤더, 트레일러 - 패킷에 추가되는 부가 정보
- 주소 - 패킷의 헤더에 명시되는 정보로, 네트워크에서 사용되는 대표적인 주소로는 IP주소와 MAC주소가 있음
  - 유니캐스트 - 송신지와 수신지가 일대일로 메시지를 주고받는 전송 방식
  - 브로드캐스트 - 네트워크상의 모든 호스트에게 메시지를 전송하는 전송 방식
    - 브로드캐스트 도메인 - 브로드캐스트가 전송되는 범위. 호스트가 같은 브로드캐스트 도메인에 속해 있는 경우에는 같은 LAN에 속해 있다고 간주함
  - 멀티캐스트 - 네트워크 내의 동일 그룹에 속한 호스트에게만 전송
  - 애니캐스트 - 네트워크 내의 동일 그룹에 속한 호스트 중 가장 가까운 호스트에게 전송
  
**두 호스트가 패킷을 주고받는 과정**
- 프로토콜 - 네트워크에서 통신을 주고받는 노드 간의 합의된 규칙이나 방법
  - IP - 네트워크 간의 주소를 지정
  - ARP - IP주소와 MAC주소를 대응시킴
  - HTTPS - 보안상 HTTP에 비해 안전
  - TCP - UDP에 비해 신뢰성이 높음
- 네트워크 참조 모델 - 통신이 이루어지는 단계를 계층적으로 표현한 것
  - OSI 모델 - 이론적 기술을 목적으로 사용
    - 물리 계층 - 가장 최하위 계층으로, 비트 신호를 주고받는 계층. 0과 1로 이루어진 신호를 유무선 통신 매체를 통해 운반하는 계층
    - 데이터 링크 계층 - 같은 LAN에 속한 호스트끼리 올바르게 정보를 주고받기 위한 계층
    - 네트워크 계층 - 네트워크 간 통신을 가능하게 하는 계층. LAN을 넘어 다른 네트워크와 통신을 주고받기 위해 필요한 계층 ( ex. IP )
    - 전송 계층 - 신뢰성 있는 전송을 가능하게 하는 계층. 포트라는 정보를 통해 특정 응용 프로그램과의 연결 다리 역할을 수행하는 계층 ( ex. TCP, UDP )
    - 세션 계층 - 응용 프로그램 간의 연결 상태를 의미하는 세션을 관리하기 위한 계층
    - 표현 계층 - like 번역가. 인코딩과 압축, 암호화와 같은 작업을 수행
    - 응용 계층 - 사용장와 가장 밀접하게 맞닿아 있어 여러 네트워크 서비스를 제공하는 계층 ( ex. HTTP, HTTPS, DNS )
  - TCP/IP 모델 - 구현과 프로토콜에 중점 ( ≈ OSI 계층 )
    - 네트워크 액세스 계층 ( 링크 계층 or 네트워크 인터페이스 계층 ) ≈ 데이터 링크 계층
    - 인터넷 계층 ≈ 네트워크 계층
    - 전송 계층 ≈ 전송 계층
    - 응용 계층 ≈ 세션 계층 + 표현 계층 + 응용 계층
- 캡슐화 - 송신 과정에서 헤더(및 트레일러)를 추가해 나가는 과정
- 역캡슐화 - 캡슐화 과정에서 붙인 헤더(및 트레일러)를 각 계층에서 확인한 뒤 제거하는 과정
- 패킷의 이름
  - 물리 - 심볼 or 비트
  - 데이터 링크 - 프레임
  - 네트워크 - 패킷 or 데이터그램
  - 전송 - TCP = 세그먼트 / UDP = 데이터그램
  - 그 이상 - 데이터 or 메시지
 
## 5 - 2. 물리 계층과 데이터 링크 계층
**이더넷**
- 물리 계층과 데이터 링크 계층에서 LAN 내의 호스트들이 올바르게 정보를 주고받을 수 있게 해줌
- 통신 매체를 통해 신호를 송수신하는 방법, 데이터 링크 계층에서 주고받는 데이터(프레임) 형식 등이 정의된 기술
- 대부분의 (유선)LAN은 이더넷을 기반으로 구현되어 있음
- 이더넷 표준
  - 오늘날의 (유선)LAN은 대부분이 이더넷 표준을 따르기 때문에 대다수의 LAN 장비들이 특정 이더넷 표준을 따름
  - 이더넷 표준이 달라지면 통신 매체의 종류를 비롯한 신호 송수신 방법, 최대 지원 속도도 달라질 수 있음
- 이더넷 프레임
  - 이더넷 기반의 네트워크에서 주고받는 프레임 
  - 프레임이 이더넷 프레임을 지칭한다고 보아도 무방
  - 프리앰블
    - 송수신지 동기화를 위해 사용되는 8바이트(64비트) 크기의 정보
    - 현재의 이더넷 프레임이 수신되고 있다는 사실을 알아차리게 해줌
  - 송수신지 MAC주소
    - 프레임에서 가장 중요한 정보
    - 송신지와 수신지를 특정할 수 있는 6바이트(48비트) 길이의 MAC주소가 명시됨
    - 물리적 주소라고도 불리는 MAC주소는 네트워크 인터페이스마다 하나씩 부여됨
      - 인터페이스란 네트워크를 향하는 통로. NIC라는 장치가 네트워크 인터페이스를 담당
  - 타입/길이
    - MAC주소의 타입/길이 필드에 명시된 크기가
      - 1500 이하 (16진수 05DC) - 프레임의 크기
      - 1536 이상 (16진수 0600) - 타입
    - 타입을 통해 어떤 상위 계층 프로토콜이 캡슐화되었는지를 알 수 있음
  - 데이터
    - 페이로드, 즉 상위 계층으로 전달하거나 전달받을 데이터가 명시됨
    - 데이터 필드에 포함될 수 있는 데이터의 최대 크기는 정해져 있음
  - FCS 
    - 트레일러. 프레임의 오류가 있는지의 여부를 확인하기 위한 필드
    - CRC라는 오류 검출용 값이 명시됨
 
**유무선 통신 매체**
- 유선 매체 - 트위스티드 페어 케이블
  - 카테고리 - 에 따라 대응되는 주요 이더넷 표준이 다르고, 표준에 따른 최대 지원 속도도 달라질 수 있음. 등급 역할
  - 노이즈 - 구리선을 통해 전기적인 신호를 주고받을 때 전기 신호에 왜곡을 줄 수 있는 주변 잡음
  - STP 케이블 - 브레이드 실드로 노이즈를 감소시킨 케이블
  - FTP 케이블 - 포일 실드로 노이즈를 감소시킨 케이블
  - UTP 케이블 - 아무것도 감싸지 않아 구리선만 있는 케이블
- 무선 매체 - 전파와 WiFi
  - 채널 - 주파수 대역을 같은 대역을 사용하는 서로 다른 무선 네트워크를 구분하기 위한 하위 주파수 대역. 채널에서 무선 통신이 이루어짐
 
**네트워크 인터페이스 : NIC**
- 네트워크 인터페이스 - 네트워크 상에서 노드와 통신 매체가 연결되는 지점
- NIC - 네트워크 인터페이스 카드, 네트워크 어댑터, LAN 카드, 네트워크 카드, 이더넷 카드 등 다양한 명칭으로 불리는 하드웨어
- 통신 매체의 신호를 호스트가 이해하는 프레임으로 변환하거나, 호스트가 이해하는 프레임을 통신 매체의 신호로 변환하는 역할을 수행
- MAC주소를 토대로 잘못 전송된 패킷이 없는지 확인하기도 함
 
**허브와 스위치**
- 물리 계층과 데이터 링크 계층의 중간 노드
- 물리 계층의 허브
  - 포트 - 허브에서 케이블의 커넥터가 꽂히는 부분, 통신 매체를 연결하는 지점
  - 신호를 전달 받으면 해당 신호에 대한 조작이나 판단 없이 모든 포트에 단순하게 신호를 내보냄
  - 반이중 모드로 통신 - 동시 송수신 불가능
  - 콜리전(충돌) 도메인 - 허브를 향해 동시에 메시지를 보내면 충돌이 발생할 수 있는 영역
- 데이터 링크 계층의 스위치
  - 허브의 한계를 보완하기 위한 네트워크 장비
  - 전달받은 신호를 목적지 호스트가 연결된 포트로만 보냄
    - MAC주소 테이블을 참조하는 MAC주소 학습 기능이 있기 때문
      - MAC주소 테이블 - 프레임 속 MAC주소를 토대로 현재 어떤 포트에 어떤 MAC주소를 가진 호스트가 연결되어 있는지 파악하고, '포트-연결된 호스트의 MAC주소' 의 대응 관계를 메모리에 저장한 테이블 
  - 전이중 모드를 지원 - 동시 송수신 가능. 콜리전 도메인이 좁음
  - VLAN - 가상 LAN. 같은 스위치에 연결된 모든 호스트를 하나의 네트워크로 간주하고 싶지 않을 때, 여러 논리적인 네트워크로 나누고 싶을 때 사용됨
 
## 5 - 3. 네트워크 계층 - IP
**IP의 목적과 특징**
- 주소 지정 
  - 네트워크 간의 통신 과정에서 호스트를 특정하는 것
  - IP 주소를 통해 이루어지며, IP 패킷 헤더를 통해 알 수 있음
  - 송신지 IP주소 & 수신지 IP주소 - 송수신지를 식별할 수 있는 IP주소가 명시됨
  - 옥텟 - 4개의 10진수로 표기된 IP주소에서 점으로 구분된 하나의 10진수 
  - 라우터 - 서로 다른 네트워크에 속한 두 호스트가 네트워크 간 통신을 수행할 때, IP주소를 바탕으로 목적지까지 IP 패킷을 전달하는 네트워크 장비 ( ex. 공유기 )
  - 라우팅 - 라우터가 IP 패킷을 전달할 최적의 경로를 결정하고 해당 경로로 패킷을 내보내는 과정
- 단편화 
  - 데이터를 여러 IP 패킷으로 올바르게 쪼개어 보내는 것
  - MTU - 최대 전송 단위. 이보다 클 경우에는 패킷을 MTU 이하의 여러 패킷으로 쪼개서 전송하고, 수신지에서 재조합됨
  - 식별자
    - 특정 패킷이 어떤 데이터에서 쪼개진 패킷인지를 식별하기 위해 사용되는 필드
    - 같은 정보에서 쪼개진 패킷들은 같은 식별자를 공유하기 때문에 식별자를 통해 단편화되어 전송되는 패킷을 구분할 수 있음
  - 플래그
    - 3비트로 구성된 필드로 첫 번째 비트를 제외한 나머지 2개의 비트는 각각 DF와 MF라는 이름이 붙어 있음
      - 첫 번째는 항상 0 - 사용되지 않음
      - DF - IP 단편화 수행하지 말라는 표시
      - MF - 단편화된 패킷이 더 있다는 표시
  - 단편화 오프셋
    - 특정 패킷이 초기 데이터에서 얼마나 떨어져 있는지가 명시된  필드
    - 단편화되어 전송되는 패킷을 목적지에서 재조합하기 위해 패킷의 올바른 순서를 나타내는 데 사용됨
- 신뢰할 수 없는 프로토콜 ( 최선형 전달 )
  - 패킷이 수신지까지 제대로 전송되었다고 보장하지 않는 프로토콜
  - 패킷이 유실되거나 목적지에 순서대로 전송되지 않더라도 이에 대한 조치를 취하지 않음
- 비연결형 프로토콜
  - 패킷을 주고받기 전에 사전 연결 과정을 거치지 않음
  - 상대 호스트의 수신 가능 여부 고려 X. 수신지에 냅다 전송할 뿐
 
**IP 주소의 구조**
- 네트워크 주소 ( 네트워크 식별자, 네트워크 ID )
- 호스트 주소 ( 호스트 식별자, 호스트 ID )
- 각 주소를 표현하는 크기는 유동적일 수 있음
- 클래스풀 주소 체계 - 클래스 바탕으로 IP주소를 관리하는 주소 체계
  - 클래스 - 네트워크의 크기에 따라 유형별로 IP주소를 분류하는 기준
- 클래스리스 주소 체계 - 클래스를 이용하지 않고 서브넷 마스크를 이용해 네트워크와 호스트를 구분하는 방식
  - 서브넷 마스크 - IP주소상에서 네트워크 주소를 1로 표기하고, 호스트 주소를 0으로 표기한 비트열
  - 서브네트워크 - IP주소에서 네트워크 주소로 구분할 수 있는 네트워크의 부분집합
  - 서브네팅 - 서브넷 마스크를 이용해 원하는 크기로 클래스를 더 잘게 쪼개어 사용하는 것
 
**공인 IP주소와 사설 IP주소**
- 공인 IP주소 - 고유한 IP주소. 인터넷을 비롯한 네트워크 간 통신에서 사용되는 IP주소
- 사설 IP주소 - 고유하지 않은 IP주소. 사설 네트워크에서 사용하기 위한 IP주소

**IP주소의 할당**
- 정적 할당 
  - 수작업으로 IP주소를 부여하는 방식
  - IP주소, 서브넷 마스크, 게이트웨이 주소, DNS 주소 등이 필요함
    - 게이트웨이 - 일반적으로 서로 다른 네트워크를 연결하는 하드웨어적/소프트웨어적 수단
    - 기본 게이트웨이 - 호스트가 속한 네트워크의 외부로 나가기 위한 첫 기본 경로 ( ex. 공유기의 주소 )
    - DNS 주소 - 호스트가 도메인 네임을 토대로 IP주소를 알아내기 위해 질의하는 서버의 주소 ( ex. google.com )
- 동적 할당
  - 프로토콜을 통해 자동으로 IP주소를 부여하는 방식 ( ex. DHCP 프로토콜 )
  - DHCP 서버 - 호스트에 할당 가능한 IP주소 목록을 관리하다가, IP주소 할당 요청을 받았을 때 IP주소를 할당해 주는 호스트
  - 동적 IP주소에는 사용 가능한 기간이 정해져 있음
  - 동적 IP주소는 할당받을 때마다 다른 주소를 받을 수 있음
 
**IP 전송 특징의 보완 : ICMP**
- IP 패킷의 전송 과정에 대한 피드벡 메시지(ICMP 메시지)를 얻기 위해 사용하는 프로토콜
- ICMP 메시지를 통해 패킷이 상대방에게 어떻게 전송되었는지를 알려줄 수 있어 IP 전송의 결과를 엿볼 수 있음
  - 전송 과정에서 발생한 오류 보고
    - 네트워크 도달 불가
    - 호스트 도달 불가
    - 프로토콜 도달 불가, 수신지에서 특정 프로토콜을 사용할 수 없음
    - 포트 도달 불가
    - 단편화가 필요하지만 DF가 1로 설정되어 단편화할 수 없음
    - TTL 만료
  - 네트워크에 대한 진단 정보
    - Echo 요청
    - Echo 응답
- IP의 신뢰성을 완전히 보장하는 것은 아님
 
**IP주소와 MAC주소의 대응 : ARP**
- IP주소와 MAC주소를 함께 활용하는 통신 과정에서 동일 네트워크 내에 있는 송수신 대상의 IP주소를 통해 MAC주소를 알아내는 프로토콜
- 브로드캐스트 메시지 전송 ( ARP 요청 메시지 ) → ARP 응답 메시지 전송 ( MAC주소 포함 )
- ARP 테이블 - <IP주소, MAC주소>의 항목들로 구성된 표 형태의 정보
 
### 처음 알게 된 사실 & 어려웠던 부분
이더넷은 윈도우 쓸 때 인터넷 연결하면서 자주 봤던 단어인데, 저렇게 뭔가 많은 값을 가지고 있는 줄 몰랐다<br /> 
왜인지 몰랐으나 그때 이더넷 연결이 이상하다고 인터넷 연결이 안됐던 게 이해가 됐다...
 

### Quiz
> 네트워크의 가장자리에 위치하면서 네트워크를 통해 주고받는 정보를 최초로 송신하고 최종 수신하는 노드를 무엇이라고 하나요?
1) 클라이언트
2) 서버
3) 라우터
4) 호스트

> 이더넷 프레임에서 송신지와 수신지를 특정할 수 있는 정보는 무엇인가요?
1) 타입/길이
2) 데이터
3) MAC주소
4) FCS

> IP 패킷의 전송 과정에서 발생한 오류를 보고하기 위해 사용하는 프로토콜은 무엇인가요?
1) TCP
2) UDP
3) ICMP
4) ARP

<details>
<summary>정답</summary>
1. (4)  /  2. (3)  /  3. (3)
</details>

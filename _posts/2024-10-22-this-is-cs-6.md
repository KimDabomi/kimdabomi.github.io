---
layout: single
title: "[이것이 취업을 위한 컴퓨터 과학이다] 6-4 ~ 6-6"
categories:
  - study
sidebar:
  nav: "sidebar-category"
---

## 6 - 4. 효율적 쿼리

**서브 쿼리와 조인**
- 서브 쿼리 - 다른 SQL문이 포함된 SQL문
  - `SELECT` 문 안에 `SELECT` 문이 포함된 서브 쿼리
  - `DELETE` 문 안에 `SELECT` 문이 포함된 서브 쿼리
- 조인 - 2개의 테이블을 하나로 합치는 것
  - `INNER JOIN` - 테이블 A와 B의 레코드 중 조인 조건을 모두 만족하는 레코드를 결과로 반환
  - `OUTER JOIN`
    - `LEFT OUTER JOIN` - 테이블 A의 모든 레코드 + 조인 조건을 만족하는 테이블 B의 레코드를 결과로 반환
    - `RIGHT OUTER JOIN` - 테이블 B의 모든 레코드 + 조인 조건을 만족하는 테이블 A의 레코드를 결과로 반환
    - `FULL OUTER JOIN` - 테이블 A와 B의 모든 레코드를 결과로 반환
  - `UNION` - SQL문 실행 결과의 합집합을 구하는 키워드
 
**뷰**
- `SELECT` 문의 결과로 만들어진 가상의 테이블
- 여러 테이블을 조인하거나 복잡한 조건식을 사용한 SQL문을 하나의 뷰로 만들어 두면, 이후 복잡한 SQL문을 반복적으로 작성하는 대신에 보다 단순하게 동일한 결과를 얻을 수 있음
- SQL문을 단순화하거나, 특정 사용자에게 테이블의 특정 데이터만을 보여주고자 할 때에도 사용함
 

**인덱스**
- RDBMS의 성능을 향상시키는 가장 대중적인 방법
- 검색 속도 향상을 목적으로 만드는 하나 이상의 테이블 필드에 대한 자료구조
- 특정 필드에 대한 인덱스를 생성하면 인덱스를 기준으로 원하는 레코드에 더 빠르게 접근할 수 있음
- 클러스터형 인덱스 - 테이블당 하나씩 만들 수 있는 인덱스. 기본 키
- 세컨더리 인덱스 (논클러스터형 인덱스) - 테이블당 여러 개가 존재할 수 있지만 상대적으로 느림
- 데이터가 충분히 많은 데이블, 조회가 빈번히 이루어지는 테이블 필드에 만들어 활용하는 것이 좋음
 

## 6 - 5. 데이터베이스 설계

**ER 다이어그램 (ERD)**
- 엔티티들의 관계를 나타내는 그림
- 데이터베이스에 저장되는 엔티티의 구조를 모델링하는 것이 목적
- 데이터베이스의 구조를 명확하게 정의해 두면 추후에 데이터베이스를 확장하거나 수정할 때 어떤 부분이 영향을 받는지 쉽게 파악할 수 있어, 유지보수가 용이하고 개발자 간 원활한 소통이 가능함
 
**정규화**
- 잠재적인 문제가 발생하지 않도록 테이블의 필드를 구성하고, 필요할 경우 테이블을 나누는 작업
- 제1 정규형 - 모든 속성이 원자 값을 가짐
- 제2 정규형 - 제1 정규형을 만족함과 동시에, 기본 키가 아닌 모든 필드들이 모든 기본 키에 완전히 종속됨
  - 부분 함수 종속성 - 기본 키가 아닌 필드가 기본 키의 일부에 종속되어 있는 경우
  - 완전 함수 종속성 - 기본 키 전체에 완전하게 종속되어 있는 경우
  - 즉 제2 정규형은 부분 함수 종속성이 없고, 완전 함수 종속인 상태
- 제3 정규형 - 제2 정규형을 만족하면서, 기본 키가 아닌 모든 필드가 기본 키에 이행적 종속성이 없는 상태
  - 이행적 종속성 (A → B) + (B → C) = (A → C)
- 보이스/코드 정규형 (BCNF) - 제3 정규형을 만족하는 동시에 모든 결정자가 후보 키여야 함
 
## 6 - 6. NoSQL

**RDBMS vs NoSQL : NoSQL의 특징**
- 레코드를 다양한 형태로 저장할 수 있고, SQL 이외의 방법으로 저장된 데이터도 다룰 수 있음
- 높은 부하를 감당하거나 대용량 데이터를 다루는 분산 환경에 적합
- 키-값 데이터베이스
  - 데이터베이스에 레코드를 키-값의 쌍으로 저장하는 데이터베이스
  - Redis, Memcached
  - 레코드를 메모리에 저장해 빠른 데이터베이스 접근 속도를 제공함 - 인메모리 데이터베이스
  - 비교적 캐시나 세션 같은 가벼운 정보를 저장
- 도큐먼트 데이터베이스
  - 레코드를 도큐먼트라는 단위로 저장하고 관리하는 데이터베이스
  - 도큐먼트 - 정형화되어 있지 않은 NoSQL 레코드의 단위 (JSON, XML)
  - MongoDB - 고정된 스키마가 없기 때문에 각 도큐먼트가 유연한 스키마를 가질 수 있음
  - 도큐먼트가 모이면 컬렉션, 컬렉션이 모이면 데이터베이스
- 그래프 데이터베이스
  - 데이터베이스에 저장하고자 하는 데이터를 그래프의 노드 형태로 저장하는 데이터베이스
  - neo4j
  - SNS의 친구 관계나 교통망 같이 데이터 간의 관계성이 중요한 레코드를 저장하기 위해 주로 사용
- 칼럼 패밀리 데이터베이스
  - 행, 열이라는 개념이 있고 로우 키를 통해 특정 행을 식별함 (RDBMS와 유사)
  - 정규화나 조인은 사용하지 않고, 스키마가 고정되어 있지 않아 자유롭게 열을 추가할 수 있음
  - Cassandra, HBase
  - 관련 있는 열들이 모여 칼럼 패밀리, 칼럼 패밀리가 모여 키스페이스
 
### Quiz
> INNER JOIN의 특징은 무엇인가요?

1) 두 테이블의 모든 레코드를 반환한다.<br />
2) 조인 조건을 만족하는 레코드만 반환한다.<br />
3) 왼쪽 테이블의 모든 레코드를 반환한다.<br />
4) 오른쪽 테이블의 모든 레코드를 반환한다.

> 기본 키의 정의로 옳은 것은 무엇인가요?

1) 여러 레코드를 식별할 수 있는 키<br />
2) 테이블당 하나만 존재할 수 있는 키<br />
3) NULL 값을 가질 수 있는 키<br />
4) 두 개 이상의 필드로 구성된 키

> 데이터 조작 언어(DML)에서 사용되는 명령어가 아닌 것은 무엇인가요?

1) SELECT<br />
2) INSERT<br />
3) CREATE<br />
4) UPDATE

 
<details>
<summary>정답</summary>
1. (2)  /  2. (2)  /  3. (3)
</details>

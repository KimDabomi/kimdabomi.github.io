---
layout: single
title: "[IT CookBook, 프로젝트로 배우는 데이터베이스 설계] 7. 관계 데이터 모델"
categories:
  - personal
sidebar:
  nav: "sidebar-category"
---

## 1. 관계 데이터 모델 개요

**관계 데이터 모델**은 디비를 2차원 테이블, 즉 릴레이션의 집합으로 모델링하는 논리적 데이터 구조
- 개체와 관계가 모두 2차원 테이블, 즉 릴레이션으로 표현됨
- ER 모델을 관계 데이터 모델로 변환하는 것이 매우 쉬움
- 릴레이션과 테이블의 차이점
  - 릴레이션은 다소 추상적인 개념, 테이블은 릴레이션을 표현하는 구체적인 표현 방법
  - 하나의 릴레이션은 여러 형태의 테이블로 표현될 수 있음
  - 테이블은 중복되는 행을 허용하지만, 릴레이션은 수학의 집합 개념을 기초로 하므로 중복되는 행을 허용하지 않음
 
### 관계 데이터 모델 관련 주요 용어
- 투플 - 릴레이션의 각 행, 개체 인스턴스에 대응함
- 속성 - 릴레이션의 각 열, 이름을 가진 정보의 가장 작은 논리적인 단위
- 도메인 - 하나의 속성이 취할 수 있는 모든 값의 집합
- 기수 - 하나의 릴레이션이 갖는 투플의 수
- 차수 - 하나의 릴레이션이 갖는 속성의 수
- 릴레이션 - 행과 열로 구성된 2차원 테이블 구조로서, 릴레이션 스키마와 릴레이션 인스턴스가 합쳐진 개념
- 릴레이션 스키마 - 릴레이션을 구성하는 속성들의 집합
- 릴레이션 인스턴스 - 릴레이션을 구성하는 투플들의 집합
- 키 - 투플들을 유일하게 식별할 수 있는 속성 또는 속성들의 집합
  

## 2. 릴레이션의 개념과 특성

**릴레이션**이란 행과 열로 구성된 2차원 테이블 구조로서, 릴레이션 스키마와 릴레이션 인스턴스가 합쳐진 개념

### 릴레이션 스키마
- 릴레이션을 구성하는 속성들의 집합
- 시간이 흘러도 변하지 않는 정적인 성질을 띠며, 릴레이션 타입과 같은 의미를 가짐
- 릴레이션 내포 or 릴레이션 스킴이라고도 부름
- 정의하는 방법
  - 도메인을 정의한 다음 정의된 도메인을 이용해서 정의하는 방법
  - 도메인 정의를 생략하고 속성 이름과 함께 도메인을 직접 기술하는 방법
 
### 릴레이션 인스턴스
- 릴레이션을 구성하는 투플들의 집합, 릴레이션의 내용
- 삽입, 삭제, 갱신 등으로 인해 시간이 지나면 변경될 수 있는 동적인 성질을 띠며, 릴레이션의 값을 의미
- 릴레이션 외연이라고도 부름

### 릴레이션의 특성
- 투플의 유일성
- 투플의 무순서성
- 속성의 무순서성
- 속성의 유일성
- 속성의 원자성


## 3. 관계 데이터베이스

**관계 디비**는 관계 데이터 모델을 기반으로 하는 디비, 릴레이션들의 집합으로 구성됨<br />
관계 디비의 각 릴레이션은 하나 이상의 투플로 구성되고, 여러 릴레이션과 서로 다양한 관련성을 맺고 있음<br />

> 관계 디비 스키마 = 릴레이션 스키마 + 무결성 제약조건
<br />
<br />
관계 디비 인스턴스는 관계 디비 스키마에 의해 정의된 릴레이션 인스턴스들의 집합<br />
이 릴레이션 인스턴스들은 모두 무결성 제약조건을 만족시켜야 함


## 4. 데이터베이스 키

### 키의 개념과 종류
- 키는 릴레이션을 구성하는 각 투플을 데이터 값에 의해 유일하게 식별할 수 있는 속성 또는 속성들의 집합
- 후보키 - 키 가운데 유일성과 최소성을 모두 만족하는 속성 집합
  - 유일성, 최소
- 슈퍼키 - 유일성은 만족하지만 최소성은 만족하지 않는 속성 집합
- 기본키
  - 후보키 가운데 업무에 적합하게 선택된 하나의 키
  - 널 값을 가질 수 없고, 중복되지 않는 유효한 값을 가져야 함
  - 단일 속성으로는 유일성이 만족되지 않아 2개 이상의 속성으로 구성한 기본키를 복합키라고 부름
- 대체키 - 기본키를 제외한 나머지 후보키들
- 외래키 - 릴레이션 간의 관계를 정의하는 키 


## 5. 무결성 제약조건

**무결성 제약조건**은 디비에 저장된 데이터의 정확성과 일관성을 유지하기 위해 디비가 항상 만족해야 하는 조건을 의미함<br />
관계 데이터 모델은 일관성 있는 디비 상태를 유지하기 위해 묵시적 또는 명시적으로 무결성 제약조건을 정의할 수 있음

### 무결성 제약조건 구분
- 개체 무결성 제약조건 - 기본키는 투플들을 유일하게 식별하기 위해서 널 값을 가질 수 없음
- 참조 무결성 제약조건 - 외래키는 반드시 피참조 릴레이션의 기본키 값 또는 널 값을 가져야 함
- 도메인 무결성 제약조건 - 각 속성은 반드시 미리 정의된 도메인에 존재하는 값을 가져야 함

### 무결성 제약조건 정의 방법
- 묵시적 정의 방법 - 릴레이션을 정의할 때 기본키와 외래키를 정의하면 개체 무결성과 참조 무결성이 묵시적으로 정의되고, 각 속성의 데이터 타입과 데이터 크기를 정의하면 도메인 무결성 제약조건도 일부 묵시적으로 정의됨
- 명시적 정의 방법 - 묵시적으로 정의되는 무결성 제약조건 이외에, 데이터의 정확성과 일관성 유지를 위해서 특정 속성이 만족해야 하는 도메인 무결성 제약조건은 명시적으로 정의해야 함
